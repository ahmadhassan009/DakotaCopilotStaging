"use strict";(self.webpackChunkcrm_integration=self.webpackChunkcrm_integration||[]).push([[686],{18037:function(e,n,t){var s=t(64836);n.Z=void 0;var i=s(t(61268)),a=t(85893),r=(0,i.default)((0,a.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline");n.Z=r},11686:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});var s=t(85893),i=t(15725),a=t(67294),r=t(68983),l=t(1435),c=t(60343),o=t(16961),u=t(44807),d=t(22327),m=t(64666),x=t(77750),f=t(63366),h=t(87462),p=t(86010),j=t(94780),g=t(61974),b=t(16122),v=t(2658),y=t(1588),Z=t(34867);function N(e){return(0,Z.Z)("MuiDialogContentText",e)}(0,y.Z)("MuiDialogContentText",["root"]);const w=["children","className"],C=(0,g.ZP)(v.Z,{shouldForwardProp:e=>(0,g.FO)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,n)=>n.root})({});var S=a.forwardRef((function(e,n){const t=(0,b.Z)({props:e,name:"MuiDialogContentText"}),{className:i}=t,a=(0,f.Z)(t,w),r=(e=>{const{classes:n}=e,t=(0,j.Z)({root:["root"]},N,n);return(0,h.Z)({},n,t)})(a);return(0,s.jsx)(C,(0,h.Z)({component:"p",variant:"body1",color:"text.secondary",ref:n,ownerState:a,className:(0,p.Z)(r.root,i)},t,{classes:r}))})),P=t(37645),k=t(18037),T=t(16086),M=function(){return M=Object.assign||function(e){for(var n,t=1,s=arguments.length;t<s;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},M.apply(this,arguments)};function z(e){var n=a.useState(!0),t=n[0],i=n[1],r=(0,l.CG)(T.Ru),c=(0,l.CG)(T.Q7);return(0,s.jsx)("div",{children:(0,s.jsxs)(m.Z,M({className:"alert-dialog-box",open:t,onClose:function(e,n){"backdropClick"!==n&&i(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},{children:[(0,s.jsx)("div",M({className:"alert-dialog-logo"},{children:(0,s.jsx)(k.Z,{className:"logo"})})),(0,s.jsx)("div",M({className:"alert-dialog-title"},{children:(0,s.jsx)(P.Z,M({id:"alert-dialog-title"},{children:(0,s.jsx)("span",M({className:"title"},{children:r}))}))})),(0,s.jsx)("div",M({className:"alert-dialog-description"},{children:(0,s.jsx)(x.Z,{children:(0,s.jsx)(S,M({id:"alert-dialog-description"},{children:c}))})}))]}))})}var D=t(54718),F=function(){return F=Object.assign||function(e){for(var n,t=1,s=arguments.length;t<s;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},F.apply(this,arguments)},O=a.lazy((function(){return Promise.all([t.e(587),t.e(162),t.e(429)]).then(t.bind(t,41846))})),R=a.lazy((function(){return Promise.all([t.e(587),t.e(994),t.e(677),t.e(551)]).then(t.bind(t,31551))})),G=function(){var e=this,n=(0,d.$)().t,t=(0,a.useState)(!1),m=t[0],x=t[1],f=(0,a.useState)(o.a[0]),h=f[0],p=f[1],j=(0,l.CG)(c.dy).client_setup_status,g=(0,l.CG)(c.dy),b=(0,l.TL)(),v=(0,l.CG)(T.zq),y=(0,a.useState)(-1),Z=y[0],N=y[1],w={0:4e3,3:4e3};return(0,a.useEffect)((function(){var n,t,s,i;9===j&&(n=e,t=void 0,i=function(){return function(e,n){var t,s,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(r=0)),r;)try{if(t=1,s&&(i=2&l[0]?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(!((i=(i=r.trys).length>0&&i[i.length-1])||6!==l[0]&&2!==l[0])){r=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(6===l[0]&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=n.call(e,r)}catch(e){l=[6,e],s=0}finally{t=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}(this,(function(e){switch(e.label){case 0:return b.setDialogState({title:"Install Complete",description:"You'll now be redirected to Add To CRM",showDialog:!0}),[4,new Promise((function(e){return setTimeout(e,4e3)}))];case 1:return e.sent(),b.resetDialogState(),(0,u.T)("/dashboard"),[2]}}))},new((s=void 0)||(s=Promise))((function(e,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function l(e){try{c(i.throw(e))}catch(e){a(e)}}function c(n){var t;n.done?e(n.value):(t=n.value,t instanceof s?t:new s((function(e){e(t)}))).then(r,l)}c((i=i.apply(n,t||[])).next())})))}),[j]),(0,a.useEffect)((function(){var e=setTimeout((function(){N(j),v&&b.resetDialogState()}),Number(j)>Z&&w["".concat(Z)]||1);return function(){return clearTimeout(e)}}),[v,j]),(0,a.useEffect)((function(){Z>0&&x(!0)}),[Z]),(0,a.useEffect)((function(){var e=o.a.find((function(e){return e.name===g.authentication_credentials.crm_name}))||o.a[0];p(e)}),[g]),(0,s.jsxs)(s.Fragment,{children:[0==Z&&(0,s.jsxs)(s.Fragment,{children:[v?(0,s.jsx)(z,{}):null,m?(0,s.jsxs)(i.ZP,F({container:!0,className:"initial-setup-page"},{children:[(0,s.jsx)(i.ZP,{item:!0,xs:1,sm:1,md:1,xl:2}),(0,s.jsx)(i.ZP,F({item:!0,xs:10,sm:10,md:10,xl:8,className:"main-section"},{children:(0,s.jsx)(r.t,{crm:h,resetCRM:function(){x(!1)}})})),(0,s.jsx)(i.ZP,{item:!0,xs:1,sm:1,md:1,xl:2})]})):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",F({className:"connect-your-crm-sidebar"},{children:(0,s.jsx)("p",F({className:"selection-title"},{children:n("crmSelection.title")}))})),(0,s.jsxs)(i.ZP,F({className:"initial-setup-page"},{children:[(0,s.jsx)(i.ZP,{item:!0,xs:1,sm:1,md:1,xl:2}),(0,s.jsx)(i.ZP,F({item:!0,xs:10,sm:10,md:10,xl:8,className:"main-section"},{children:(0,s.jsx)(o.Q,{setCRMSelected:x,setSelectedCRM:p})})),(0,s.jsx)(i.ZP,{item:!0,xs:1,sm:1,md:1,xl:2})]}))]})]}),1==Z&&(0,s.jsxs)(s.Fragment,{children:[v?(0,s.jsx)(z,{}):null,(0,s.jsx)(a.Suspense,F({fallback:(0,s.jsx)("div",F({className:"spinner"},{children:(0,s.jsx)(D.Z,{size:"medium",variant:"base",assistiveText:{label:""}})}))},{children:(0,s.jsx)(R,{})})),(0,s.jsxs)("span",F({className:"configurations-header"},{children:[(0,s.jsx)("p",F({className:"bold"},{children:n("initial-setup.heading")})),(0,s.jsx)("p",{children:n("initial-setup.field-mapping-account")})]}))]}),2==Z&&(0,s.jsxs)(s.Fragment,{children:[v?(0,s.jsx)(z,{}):null,(0,s.jsx)(a.Suspense,F({fallback:(0,s.jsx)("div",F({className:"spinner"},{children:(0,s.jsx)(D.Z,{size:"medium",variant:"base",assistiveText:{label:""}})}))},{children:(0,s.jsx)(R,{})})),(0,s.jsxs)("span",F({className:"configurations-header"},{children:[(0,s.jsx)("p",F({className:"bold"},{children:n("initial-setup.heading")})),(0,s.jsx)("p",{children:n("initial-setup.field-mapping-contact")})]}))]}),3==Z&&(0,s.jsxs)(s.Fragment,{children:[v?(0,s.jsx)(z,{}):null,(0,s.jsx)(a.Suspense,F({fallback:(0,s.jsxs)("div",F({className:"spinner"},{children:[" ",(0,s.jsx)(D.Z,{size:"medium",variant:"base",assistiveText:{label:""}})]}))},{children:(0,s.jsx)(O,{})})),(0,s.jsxs)("span",F({className:"configurations-header"},{children:[(0,s.jsx)("p",F({className:"bold"},{children:n("initial-setup.heading")})),(0,s.jsx)("p",{children:n("initial-setup.configurations")}),(0,s.jsx)("p",F({style:{color:"#697cd8",marginLeft:"10px"}},{children:n("additional-settings.comming-soon")}))]}))]})]})}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBRSw2QkFBOEIsU0FBSyxJQUFLLENBQUVtQixTQUFVbkIsRUFBRSxnREFBZ0YsR0FBNUIwQyxJQUMxaEIsVUFBTSxXQUFXLENBQUV2QixTQUFVLENBQUNxQixHQUFhLFNBQUs1QixFQUFhLENBQUMsR0FBSyxNQUFNLFNBQUssRUFBQTRGLFNBQVUsRUFBUyxDQUFFQyxVQUFVLFVBQU0sTUFBTyxFQUFTLENBQUVySCxVQUFXLFdBQWEsQ0FBRStCLFNBQVUsQ0FBQyxLQUFLLFNBQUssSUFBUyxDQUFFdUYsS0FBTSxTQUFVL0csUUFBUyxPQUFRZ0gsY0FBZSxDQUFFcEQsTUFBTyxXQUFnQixDQUFFcEMsVUFBVSxTQUFLUyxFQUF3QixDQUFDLE9BQVEsVUFBTSxPQUFRLEVBQVMsQ0FBRXhDLFVBQVcseUJBQTJCLENBQUUrQixTQUFVLEVBQUMsU0FBSyxJQUFLLEVBQVMsQ0FBRS9CLFVBQVcsUUFBVSxDQUFFK0IsU0FBVW5CLEVBQUUsNkJBQThCLFNBQUssSUFBSyxDQUFFbUIsU0FBVW5CLEVBQUUsbUNBQW9DLFNBQUssSUFBSyxFQUFTLENBQUU0RyxNQUFPLENBQUVoSCxNQUFPLFVBQVdpSCxXQUFZLFNBQVksQ0FBRTFGLFNBQVVuQixFQUFFLGdEQUM5bkIsQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NybS1pbnRlZ3JhdGlvbi8uL25vZGVfbW9kdWxlcy9AbXVpL2ljb25zLW1hdGVyaWFsL0NoZWNrQ2lyY2xlT3V0bGluZS5qcyIsIndlYnBhY2s6Ly9jcm0taW50ZWdyYXRpb24vLi9ub2RlX21vZHVsZXMvQG11aS9tYXRlcmlhbC9EaWFsb2dDb250ZW50VGV4dC9kaWFsb2dDb250ZW50VGV4dENsYXNzZXMuanMiLCJ3ZWJwYWNrOi8vY3JtLWludGVncmF0aW9uLy4vbm9kZV9tb2R1bGVzL0BtdWkvbWF0ZXJpYWwvRGlhbG9nQ29udGVudFRleHQvRGlhbG9nQ29udGVudFRleHQuanMiLCJ3ZWJwYWNrOi8vY3JtLWludGVncmF0aW9uLy4vc3JjL2FwcC9jb21wb25lbnRzL2FsZXJ0LWRpYWxvZy9hbGVydC1kaWFsb2cudHN4Iiwid2VicGFjazovL2NybS1pbnRlZ3JhdGlvbi8uL3NyYy9hcHAvcGFnZXMvaW5pdGlhbC1zZXR1cC9Jbml0aWFsU2V0dXBQYWdlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xudmFyIF9jcmVhdGVTdmdJY29uID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi91dGlscy9jcmVhdGVTdmdJY29uXCIpKTtcbnZhciBfanN4UnVudGltZSA9IHJlcXVpcmUoXCJyZWFjdC9qc3gtcnVudGltZVwiKTtcbnZhciBfZGVmYXVsdCA9ICgwLCBfY3JlYXRlU3ZnSWNvbi5kZWZhdWx0KSggLyojX19QVVJFX18qLygwLCBfanN4UnVudGltZS5qc3gpKFwicGF0aFwiLCB7XG4gIGQ6IFwiTTE2LjU5IDcuNTggMTAgMTQuMTdsLTMuNTktMy41OEw1IDEybDUgNSA4LTh6TTEyIDJDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bTAgMThjLTQuNDIgMC04LTMuNTgtOC04czMuNTgtOCA4LTggOCAzLjU4IDggOC0zLjU4IDgtOCA4elwiXG59KSwgJ0NoZWNrQ2lyY2xlT3V0bGluZScpO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiaW1wb3J0IHsgdW5zdGFibGVfZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcyBhcyBnZW5lcmF0ZVV0aWxpdHlDbGFzc2VzIH0gZnJvbSAnQG11aS91dGlscyc7XG5pbXBvcnQgZ2VuZXJhdGVVdGlsaXR5Q2xhc3MgZnJvbSAnLi4vZ2VuZXJhdGVVdGlsaXR5Q2xhc3MnO1xuZXhwb3J0IGZ1bmN0aW9uIGdldERpYWxvZ0NvbnRlbnRUZXh0VXRpbGl0eUNsYXNzKHNsb3QpIHtcbiAgcmV0dXJuIGdlbmVyYXRlVXRpbGl0eUNsYXNzKCdNdWlEaWFsb2dDb250ZW50VGV4dCcsIHNsb3QpO1xufVxuY29uc3QgZGlhbG9nQ29udGVudFRleHRDbGFzc2VzID0gZ2VuZXJhdGVVdGlsaXR5Q2xhc3NlcygnTXVpRGlhbG9nQ29udGVudFRleHQnLCBbJ3Jvb3QnXSk7XG5leHBvcnQgZGVmYXVsdCBkaWFsb2dDb250ZW50VGV4dENsYXNzZXM7IiwiaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlXCI7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmNvbnN0IF9leGNsdWRlZCA9IFtcImNoaWxkcmVuXCIsIFwiY2xhc3NOYW1lXCJdO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IHsgdW5zdGFibGVfY29tcG9zZUNsYXNzZXMgYXMgY29tcG9zZUNsYXNzZXMgfSBmcm9tICdAbXVpL2Jhc2UnO1xuaW1wb3J0IHN0eWxlZCwgeyByb290U2hvdWxkRm9yd2FyZFByb3AgfSBmcm9tICcuLi9zdHlsZXMvc3R5bGVkJztcbmltcG9ydCB1c2VUaGVtZVByb3BzIGZyb20gJy4uL3N0eWxlcy91c2VUaGVtZVByb3BzJztcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJy4uL1R5cG9ncmFwaHknO1xuaW1wb3J0IHsgZ2V0RGlhbG9nQ29udGVudFRleHRVdGlsaXR5Q2xhc3MgfSBmcm9tICcuL2RpYWxvZ0NvbnRlbnRUZXh0Q2xhc3Nlcyc7XG5pbXBvcnQgeyBqc3ggYXMgX2pzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuY29uc3QgdXNlVXRpbGl0eUNsYXNzZXMgPSBvd25lclN0YXRlID0+IHtcbiAgY29uc3Qge1xuICAgIGNsYXNzZXNcbiAgfSA9IG93bmVyU3RhdGU7XG4gIGNvbnN0IHNsb3RzID0ge1xuICAgIHJvb3Q6IFsncm9vdCddXG4gIH07XG4gIGNvbnN0IGNvbXBvc2VkQ2xhc3NlcyA9IGNvbXBvc2VDbGFzc2VzKHNsb3RzLCBnZXREaWFsb2dDb250ZW50VGV4dFV0aWxpdHlDbGFzcywgY2xhc3Nlcyk7XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgY2xhc3NlcywgY29tcG9zZWRDbGFzc2VzKTtcbn07XG5jb25zdCBEaWFsb2dDb250ZW50VGV4dFJvb3QgPSBzdHlsZWQoVHlwb2dyYXBoeSwge1xuICBzaG91bGRGb3J3YXJkUHJvcDogcHJvcCA9PiByb290U2hvdWxkRm9yd2FyZFByb3AocHJvcCkgfHwgcHJvcCA9PT0gJ2NsYXNzZXMnLFxuICBuYW1lOiAnTXVpRGlhbG9nQ29udGVudFRleHQnLFxuICBzbG90OiAnUm9vdCcsXG4gIG92ZXJyaWRlc1Jlc29sdmVyOiAocHJvcHMsIHN0eWxlcykgPT4gc3R5bGVzLnJvb3Rcbn0pKHt9KTtcbmNvbnN0IERpYWxvZ0NvbnRlbnRUZXh0ID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gRGlhbG9nQ29udGVudFRleHQoaW5Qcm9wcywgcmVmKSB7XG4gIGNvbnN0IHByb3BzID0gdXNlVGhlbWVQcm9wcyh7XG4gICAgcHJvcHM6IGluUHJvcHMsXG4gICAgbmFtZTogJ011aURpYWxvZ0NvbnRlbnRUZXh0J1xuICB9KTtcbiAgY29uc3Qge1xuICAgICAgY2xhc3NOYW1lXG4gICAgfSA9IHByb3BzLFxuICAgIG93bmVyU3RhdGUgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgX2V4Y2x1ZGVkKTtcbiAgY29uc3QgY2xhc3NlcyA9IHVzZVV0aWxpdHlDbGFzc2VzKG93bmVyU3RhdGUpO1xuICByZXR1cm4gLyojX19QVVJFX18qL19qc3goRGlhbG9nQ29udGVudFRleHRSb290LCBfZXh0ZW5kcyh7XG4gICAgY29tcG9uZW50OiBcInBcIixcbiAgICB2YXJpYW50OiBcImJvZHkxXCIsXG4gICAgY29sb3I6IFwidGV4dC5zZWNvbmRhcnlcIixcbiAgICByZWY6IHJlZixcbiAgICBvd25lclN0YXRlOiBvd25lclN0YXRlLFxuICAgIGNsYXNzTmFtZTogY2xzeChjbGFzc2VzLnJvb3QsIGNsYXNzTmFtZSlcbiAgfSwgcHJvcHMsIHtcbiAgICBjbGFzc2VzOiBjbGFzc2VzXG4gIH0pKTtcbn0pO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gRGlhbG9nQ29udGVudFRleHQucHJvcFR5cGVzIC8qIHJlbW92ZS1wcm9wdHlwZXMgKi8gPSB7XG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFdhcm5pbmcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gfCBUaGVzZSBQcm9wVHlwZXMgYXJlIGdlbmVyYXRlZCBmcm9tIHRoZSBUeXBlU2NyaXB0IHR5cGUgZGVmaW5pdGlvbnMgfFxuICAvLyB8ICAgICBUbyB1cGRhdGUgdGhlbSBlZGl0IHRoZSBkLnRzIGZpbGUgYW5kIHJ1biBcInlhcm4gcHJvcHR5cGVzXCIgICAgIHxcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvKipcbiAgICogVGhlIGNvbnRlbnQgb2YgdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgLyoqXG4gICAqIE92ZXJyaWRlIG9yIGV4dGVuZCB0aGUgc3R5bGVzIGFwcGxpZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAgICovXG4gIGNsYXNzZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8qKlxuICAgKiBUaGUgc3lzdGVtIHByb3AgdGhhdCBhbGxvd3MgZGVmaW5pbmcgc3lzdGVtIG92ZXJyaWRlcyBhcyB3ZWxsIGFzIGFkZGl0aW9uYWwgQ1NTIHN0eWxlcy5cbiAgICovXG4gIHN4OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLmJvb2xdKSksIFByb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMub2JqZWN0XSlcbn0gOiB2b2lkIDA7XG5leHBvcnQgZGVmYXVsdCBEaWFsb2dDb250ZW50VGV4dDsiLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXHJcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XHJcbmltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XHJcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IERpYWxvZyBmcm9tICdAbXVpL21hdGVyaWFsL0RpYWxvZyc7XHJcbmltcG9ydCBEaWFsb2dDb250ZW50IGZyb20gJ0BtdWkvbWF0ZXJpYWwvRGlhbG9nQ29udGVudCc7XHJcbmltcG9ydCBEaWFsb2dDb250ZW50VGV4dCBmcm9tICdAbXVpL21hdGVyaWFsL0RpYWxvZ0NvbnRlbnRUZXh0JztcclxuaW1wb3J0IERpYWxvZ1RpdGxlIGZyb20gJ0BtdWkvbWF0ZXJpYWwvRGlhbG9nVGl0bGUnO1xyXG5pbXBvcnQgQ2hlY2tDaXJjbGVPdXRsaW5lSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0NoZWNrQ2lyY2xlT3V0bGluZSc7XHJcbmltcG9ydCB7IHNlbGVjdFRpdGxlLCBzZWxlY3REZXNjcmlwdGlvbiB9IGZyb20gJy4vYWxlcnQtZGlhbG9nLXNsaWNlJztcclxuaW1wb3J0IHsgdXNlQXBwU2VsZWN0b3IgfSBmcm9tICcuLi8uLi9ob29rcyc7XHJcbmV4cG9ydCBmdW5jdGlvbiBBbGVydERpYWxvZyhfYSkge1xyXG4gICAgdmFyIF9iID0gUmVhY3QudXNlU3RhdGUodHJ1ZSksIG9wZW4gPSBfYlswXSwgc2V0T3BlbiA9IF9iWzFdO1xyXG4gICAgdmFyIGRpYWxvZ1RpdGxlID0gdXNlQXBwU2VsZWN0b3Ioc2VsZWN0VGl0bGUpO1xyXG4gICAgdmFyIGRpYWxvZ0Rlc2NyaXB0aW9uID0gdXNlQXBwU2VsZWN0b3Ioc2VsZWN0RGVzY3JpcHRpb24pO1xyXG4gICAgLyogY29uc3QgaGFuZGxlQ2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgc2V0T3BlbihmYWxzZSk7XHJcbiAgICB9OyAqL1xyXG4gICAgcmV0dXJuIChfanN4KFwiZGl2XCIsIHsgY2hpbGRyZW46IF9qc3hzKERpYWxvZywgX19hc3NpZ24oeyBjbGFzc05hbWU6ICdhbGVydC1kaWFsb2ctYm94Jywgb3Blbjogb3BlbiwgXHJcbiAgICAgICAgICAgIC8vb25DbG9zZT17aGFuZGxlQ2xvc2V9XHJcbiAgICAgICAgICAgIG9uQ2xvc2U6IGZ1bmN0aW9uIChldmVudCwgcmVhc29uKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVhc29uICE9PSAnYmFja2Ryb3BDbGljaycpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRPcGVuKGZhbHNlKTsgLy8gQ2xvc2UgdGhlIGRpYWxvZyBmb3Igb3RoZXIgcmVhc29ucyAobGlrZSBwcmVzc2luZyBFc2NhcGUga2V5KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBcImFyaWEtbGFiZWxsZWRieVwiOiBcImFsZXJ0LWRpYWxvZy10aXRsZVwiLCBcImFyaWEtZGVzY3JpYmVkYnlcIjogXCJhbGVydC1kaWFsb2ctZGVzY3JpcHRpb25cIiB9LCB7IGNoaWxkcmVuOiBbX2pzeChcImRpdlwiLCBfX2Fzc2lnbih7IGNsYXNzTmFtZTogJ2FsZXJ0LWRpYWxvZy1sb2dvJyB9LCB7IGNoaWxkcmVuOiBfanN4KENoZWNrQ2lyY2xlT3V0bGluZUljb24sIHsgY2xhc3NOYW1lOiAnbG9nbycgfSkgfSkpLCBfanN4KFwiZGl2XCIsIF9fYXNzaWduKHsgY2xhc3NOYW1lOiBcImFsZXJ0LWRpYWxvZy10aXRsZVwiIH0sIHsgY2hpbGRyZW46IF9qc3goRGlhbG9nVGl0bGUsIF9fYXNzaWduKHsgaWQ6IFwiYWxlcnQtZGlhbG9nLXRpdGxlXCIgfSwgeyBjaGlsZHJlbjogX2pzeChcInNwYW5cIiwgX19hc3NpZ24oeyBjbGFzc05hbWU6ICd0aXRsZScgfSwgeyBjaGlsZHJlbjogZGlhbG9nVGl0bGUgfSkpIH0pKSB9KSksIF9qc3goXCJkaXZcIiwgX19hc3NpZ24oeyBjbGFzc05hbWU6ICdhbGVydC1kaWFsb2ctZGVzY3JpcHRpb24nIH0sIHsgY2hpbGRyZW46IF9qc3goRGlhbG9nQ29udGVudCwgeyBjaGlsZHJlbjogX2pzeChEaWFsb2dDb250ZW50VGV4dCwgX19hc3NpZ24oeyBpZDogXCJhbGVydC1kaWFsb2ctZGVzY3JpcHRpb25cIiB9LCB7IGNoaWxkcmVuOiBkaWFsb2dEZXNjcmlwdGlvbiB9KSkgfSkgfSkpXSB9KSkgfSkpO1xyXG59XHJcbiIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcclxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcclxudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59O1xyXG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufTtcclxuaW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMsIEZyYWdtZW50IGFzIF9GcmFnbWVudCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xyXG5pbXBvcnQgeyBHcmlkIH0gZnJvbSAnQG11aS9tYXRlcmlhbCc7XHJcbmltcG9ydCB7IFN1c3BlbnNlLCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBDUk1BdXRoZW50aWNhdGlvbiB9IGZyb20gJy4uLy4uL2ZlYXR1cmVzL2NybS1hdXRoZW50aWNhdGlvbi9DUk1BdXRoZW50aWNhdGlvbic7XHJcbmltcG9ydCB7IHVzZUFwcFNlbGVjdG9yIH0gZnJvbSAnLi4vLi4vaG9va3MnO1xyXG5pbXBvcnQgeyBzZWxlY3RVc2VyIH0gZnJvbSAnLi4vLi4vc3RvcmUvc2xpY2VzL3VzZXJTbGljZSc7XHJcbmltcG9ydCB7IENSTVNlbGVjdGlvbiwga25vd25DUk1UeXBlcyB9IGZyb20gJy4vY29tcG9uZW50cy9DUk1TZWxlY3Rpb24vQ1JNU2VsZWN0aW9uJztcclxuaW1wb3J0IHsgbmF2aWdhdGVUbyB9IGZyb20gJy4uLy4uL2hlbHBlcnMvbmF2aWdhdGlvbi1oZWxwZXInO1xyXG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xyXG5pbXBvcnQgeyBBbGVydERpYWxvZyB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvYWxlcnQtZGlhbG9nL2FsZXJ0LWRpYWxvZyc7XHJcbmltcG9ydCB7IHNlbGVjdFNob3dEaWFsb2cgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL2FsZXJ0LWRpYWxvZy9hbGVydC1kaWFsb2ctc2xpY2UnO1xyXG5pbXBvcnQgeyB1c2VBcHBEaXNwYXRjaCB9IGZyb20gJy4uLy4uL2hvb2tzJztcclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgU3Bpbm5lciB9IGZyb20gJ0BzYWxlc2ZvcmNlL2Rlc2lnbi1zeXN0ZW0tcmVhY3QnO1xyXG52YXIgQWRkaXRpb25hbFNldHRpbmdzUGFnZSA9IFJlYWN0LmxhenkoZnVuY3Rpb24gKCkgeyByZXR1cm4gaW1wb3J0KFwiLi4vYWRkaXRpb25hbC1zZXR0aW5ncy9BZGRpdGlvbmFsU2V0dGluZ3NQYWdlXCIpOyB9KTtcclxudmFyIEZpZWxkTWFwcGluZ1BhZ2UgPSBSZWFjdC5sYXp5KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGltcG9ydChcIi4uL2ZpZWxkLW1hcHBpbmcvRmllbGRNYXBwaW5nUGFnZVwiKTsgfSk7XHJcbmZ1bmN0aW9uIEluaXRpYWxTZXR1cFBhZ2UoKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdmFyIHQgPSB1c2VUcmFuc2xhdGlvbigpLnQ7XHJcbiAgICB2YXIgX2EgPSB1c2VTdGF0ZShmYWxzZSksIGNybVNlbGVjdGVkID0gX2FbMF0sIHNldENSTVNlbGVjdGVkID0gX2FbMV07XHJcbiAgICB2YXIgX2IgPSB1c2VTdGF0ZShrbm93bkNSTVR5cGVzWzBdKSwgc2VsZWN0ZWRDUk0gPSBfYlswXSwgc2V0U2VsZWN0ZWRDUk0gPSBfYlsxXTtcclxuICAgIHZhciBjbGllbnRfc2V0dXBfc3RhdHVzID0gdXNlQXBwU2VsZWN0b3Ioc2VsZWN0VXNlcikuY2xpZW50X3NldHVwX3N0YXR1cztcclxuICAgIHZhciB1c2VyID0gdXNlQXBwU2VsZWN0b3Ioc2VsZWN0VXNlcik7XHJcbiAgICB2YXIgZGlzcGF0Y2ggPSB1c2VBcHBEaXNwYXRjaCgpO1xyXG4gICAgdmFyIHNob3dEaWFsb2cgPSB1c2VBcHBTZWxlY3RvcihzZWxlY3RTaG93RGlhbG9nKTtcclxuICAgIHZhciBfYyA9IHVzZVN0YXRlKC0xKSwgcHJldmlvdXNDbGllbnRTZXR1cFN0YXRlID0gX2NbMF0sIHNldFByZXZpb3VzQ2xpZW50U2V0dXBTdGF0ZSA9IF9jWzFdO1xyXG4gICAgdmFyIHRpbWVPdXQgPSB7ICcwJzogNDAwMCwgJzMnOiA0MDAwIH07XHJcbiAgICB2YXIgc2hvd0FsZXJ0RGlhbG9nQW5kTmF2aWdhdGVUb0FkZHRvQ3JtID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoLnNldERpYWxvZ1N0YXRlKHsgdGl0bGU6ICdJbnN0YWxsIENvbXBsZXRlJywgZGVzY3JpcHRpb246IFwiWW91J2xsIG5vdyBiZSByZWRpcmVjdGVkIHRvIEFkZCBUbyBDUk1cIiwgc2hvd0RpYWxvZzogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocikgeyByZXR1cm4gc2V0VGltZW91dChyLCA0MDAwKTsgfSldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaC5yZXNldERpYWxvZ1N0YXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGVUbygnL2Rhc2hib2FyZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7IH07XHJcbiAgICB2YXIgcmVzZXRDUk1TZWxlY3RlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZXRDUk1TZWxlY3RlZChmYWxzZSk7XHJcbiAgICB9O1xyXG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoY2xpZW50X3NldHVwX3N0YXR1cyA9PT0gOSkge1xyXG4gICAgICAgICAgICBzaG93QWxlcnREaWFsb2dBbmROYXZpZ2F0ZVRvQWRkdG9Dcm0oKTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbY2xpZW50X3NldHVwX3N0YXR1c10pO1xyXG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2V0UHJldmlvdXNDbGllbnRTZXR1cFN0YXRlKGNsaWVudF9zZXR1cF9zdGF0dXMpO1xyXG4gICAgICAgICAgICBzaG93RGlhbG9nICYmIGRpc3BhdGNoLnJlc2V0RGlhbG9nU3RhdGUoKTtcclxuICAgICAgICB9LCBOdW1iZXIoY2xpZW50X3NldHVwX3N0YXR1cykgPiBwcmV2aW91c0NsaWVudFNldHVwU3RhdGUgPyAodGltZU91dFtcIlwiLmNvbmNhdChwcmV2aW91c0NsaWVudFNldHVwU3RhdGUpXSB8fCAxKSA6IDEpO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBjbGVhclRpbWVvdXQodGltZXIpOyB9O1xyXG4gICAgfSwgW3Nob3dEaWFsb2csIGNsaWVudF9zZXR1cF9zdGF0dXNdKTtcclxuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHByZXZpb3VzQ2xpZW50U2V0dXBTdGF0ZSA+IDApIHtcclxuICAgICAgICAgICAgc2V0Q1JNU2VsZWN0ZWQodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW3ByZXZpb3VzQ2xpZW50U2V0dXBTdGF0ZV0pO1xyXG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdXNlckNSTSA9IGtub3duQ1JNVHlwZXMuZmluZChmdW5jdGlvbiAoY3JtKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjcm0ubmFtZSA9PT0gdXNlci5hdXRoZW50aWNhdGlvbl9jcmVkZW50aWFscy5jcm1fbmFtZTtcclxuICAgICAgICB9KSB8fCBrbm93bkNSTVR5cGVzWzBdO1xyXG4gICAgICAgIHNldFNlbGVjdGVkQ1JNKHVzZXJDUk0pO1xyXG4gICAgfSwgW3VzZXJdKTtcclxuICAgIHJldHVybiAoX2pzeHMoX0ZyYWdtZW50LCB7IGNoaWxkcmVuOiBbKHByZXZpb3VzQ2xpZW50U2V0dXBTdGF0ZSA9PSAwKSAmJlxyXG4gICAgICAgICAgICAgICAgX2pzeHMoX0ZyYWdtZW50LCB7IGNoaWxkcmVuOiBbc2hvd0RpYWxvZyA/IF9qc3goQWxlcnREaWFsb2csIHt9KSA6IG51bGwsIGNybVNlbGVjdGVkID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9qc3hzKEdyaWQsIF9fYXNzaWduKHsgY29udGFpbmVyOiB0cnVlLCBjbGFzc05hbWU6ICdpbml0aWFsLXNldHVwLXBhZ2UnIH0sIHsgY2hpbGRyZW46IFtfanN4KEdyaWQsIHsgaXRlbTogdHJ1ZSwgeHM6IDEsIHNtOiAxLCBtZDogMSwgeGw6IDIgfSksIF9qc3goR3JpZCwgX19hc3NpZ24oeyBpdGVtOiB0cnVlLCB4czogMTAsIHNtOiAxMCwgbWQ6IDEwLCB4bDogOCwgY2xhc3NOYW1lOiAnbWFpbi1zZWN0aW9uJyB9LCB7IGNoaWxkcmVuOiBfanN4KENSTUF1dGhlbnRpY2F0aW9uLCB7IGNybTogc2VsZWN0ZWRDUk0sIHJlc2V0Q1JNOiByZXNldENSTVNlbGVjdGVkIH0pIH0pKSwgX2pzeChHcmlkLCB7IGl0ZW06IHRydWUsIHhzOiAxLCBzbTogMSwgbWQ6IDEsIHhsOiAyIH0pXSB9KSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfanN4cyhfRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtfanN4KFwiZGl2XCIsIF9fYXNzaWduKHsgY2xhc3NOYW1lOiAnY29ubmVjdC15b3VyLWNybS1zaWRlYmFyJyB9LCB7IGNoaWxkcmVuOiBfanN4KFwicFwiLCBfX2Fzc2lnbih7IGNsYXNzTmFtZTogJ3NlbGVjdGlvbi10aXRsZScgfSwgeyBjaGlsZHJlbjogdChcImNybVNlbGVjdGlvbi50aXRsZVwiKSB9KSkgfSkpLCBfanN4cyhHcmlkLCBfX2Fzc2lnbih7IGNsYXNzTmFtZTogJ2luaXRpYWwtc2V0dXAtcGFnZScgfSwgeyBjaGlsZHJlbjogW19qc3goR3JpZCwgeyBpdGVtOiB0cnVlLCB4czogMSwgc206IDEsIG1kOiAxLCB4bDogMiB9KSwgX2pzeChHcmlkLCBfX2Fzc2lnbih7IGl0ZW06IHRydWUsIHhzOiAxMCwgc206IDEwLCBtZDogMTAsIHhsOiA4LCBjbGFzc05hbWU6ICdtYWluLXNlY3Rpb24nIH0sIHsgY2hpbGRyZW46IF9qc3goQ1JNU2VsZWN0aW9uLCB7IHNldENSTVNlbGVjdGVkOiBzZXRDUk1TZWxlY3RlZCwgc2V0U2VsZWN0ZWRDUk06IHNldFNlbGVjdGVkQ1JNIH0pIH0pKSwgX2pzeChHcmlkLCB7IGl0ZW06IHRydWUsIHhzOiAxLCBzbTogMSwgbWQ6IDEsIHhsOiAyIH0pXSB9KSldIH0pXSB9KSwgcHJldmlvdXNDbGllbnRTZXR1cFN0YXRlID09IDEgJiZcclxuICAgICAgICAgICAgICAgIF9qc3hzKF9GcmFnbWVudCwgeyBjaGlsZHJlbjogW3Nob3dEaWFsb2cgPyBfanN4KEFsZXJ0RGlhbG9nLCB7fSkgOiBudWxsLCBfanN4KFN1c3BlbnNlLCBfX2Fzc2lnbih7IGZhbGxiYWNrOiBfanN4KFwiZGl2XCIsIF9fYXNzaWduKHsgY2xhc3NOYW1lOiBcInNwaW5uZXJcIiB9LCB7IGNoaWxkcmVuOiBfanN4KFNwaW5uZXIsIHsgc2l6ZTogXCJtZWRpdW1cIiwgdmFyaWFudDogXCJiYXNlXCIsIGFzc2lzdGl2ZVRleHQ6IHsgbGFiZWw6ICcnIH0gfSkgfSkpIH0sIHsgY2hpbGRyZW46IF9qc3goRmllbGRNYXBwaW5nUGFnZSwge30pIH0pKSwgX2pzeHMoXCJzcGFuXCIsIF9fYXNzaWduKHsgY2xhc3NOYW1lOiAnY29uZmlndXJhdGlvbnMtaGVhZGVyJyB9LCB7IGNoaWxkcmVuOiBbX2pzeChcInBcIiwgX19hc3NpZ24oeyBjbGFzc05hbWU6ICdib2xkJyB9LCB7IGNoaWxkcmVuOiB0KFwiaW5pdGlhbC1zZXR1cC5oZWFkaW5nXCIpIH0pKSwgX2pzeChcInBcIiwgeyBjaGlsZHJlbjogdChcImluaXRpYWwtc2V0dXAuZmllbGQtbWFwcGluZy1hY2NvdW50XCIpIH0pXSB9KSldIH0pLCBwcmV2aW91c0NsaWVudFNldHVwU3RhdGUgPT0gMiAmJlxyXG4gICAgICAgICAgICAgICAgX2pzeHMoX0ZyYWdtZW50LCB7IGNoaWxkcmVuOiBbc2hvd0RpYWxvZyA/IF9qc3goQWxlcnREaWFsb2csIHt9KSA6IG51bGwsIF9qc3goU3VzcGVuc2UsIF9fYXNzaWduKHsgZmFsbGJhY2s6IF9qc3goXCJkaXZcIiwgX19hc3NpZ24oeyBjbGFzc05hbWU6IFwic3Bpbm5lclwiIH0sIHsgY2hpbGRyZW46IF9qc3goU3Bpbm5lciwgeyBzaXplOiBcIm1lZGl1bVwiLCB2YXJpYW50OiBcImJhc2VcIiwgYXNzaXN0aXZlVGV4dDogeyBsYWJlbDogJycgfSB9KSB9KSkgfSwgeyBjaGlsZHJlbjogX2pzeChGaWVsZE1hcHBpbmdQYWdlLCB7fSkgfSkpLCBfanN4cyhcInNwYW5cIiwgX19hc3NpZ24oeyBjbGFzc05hbWU6ICdjb25maWd1cmF0aW9ucy1oZWFkZXInIH0sIHsgY2hpbGRyZW46IFtfanN4KFwicFwiLCBfX2Fzc2lnbih7IGNsYXNzTmFtZTogJ2JvbGQnIH0sIHsgY2hpbGRyZW46IHQoXCJpbml0aWFsLXNldHVwLmhlYWRpbmdcIikgfSkpLCBfanN4KFwicFwiLCB7IGNoaWxkcmVuOiB0KFwiaW5pdGlhbC1zZXR1cC5maWVsZC1tYXBwaW5nLWNvbnRhY3RcIikgfSldIH0pKV0gfSksIHByZXZpb3VzQ2xpZW50U2V0dXBTdGF0ZSA9PSAzICYmXHJcbiAgICAgICAgICAgICAgICBfanN4cyhfRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtzaG93RGlhbG9nID8gX2pzeChBbGVydERpYWxvZywge30pIDogbnVsbCwgX2pzeChTdXNwZW5zZSwgX19hc3NpZ24oeyBmYWxsYmFjazogX2pzeHMoXCJkaXZcIiwgX19hc3NpZ24oeyBjbGFzc05hbWU6IFwic3Bpbm5lclwiIH0sIHsgY2hpbGRyZW46IFtcIiBcIiwgX2pzeChTcGlubmVyLCB7IHNpemU6IFwibWVkaXVtXCIsIHZhcmlhbnQ6IFwiYmFzZVwiLCBhc3Npc3RpdmVUZXh0OiB7IGxhYmVsOiAnJyB9IH0pXSB9KSkgfSwgeyBjaGlsZHJlbjogX2pzeChBZGRpdGlvbmFsU2V0dGluZ3NQYWdlLCB7fSkgfSkpLCBfanN4cyhcInNwYW5cIiwgX19hc3NpZ24oeyBjbGFzc05hbWU6ICdjb25maWd1cmF0aW9ucy1oZWFkZXInIH0sIHsgY2hpbGRyZW46IFtfanN4KFwicFwiLCBfX2Fzc2lnbih7IGNsYXNzTmFtZTogJ2JvbGQnIH0sIHsgY2hpbGRyZW46IHQoXCJpbml0aWFsLXNldHVwLmhlYWRpbmdcIikgfSkpLCBfanN4KFwicFwiLCB7IGNoaWxkcmVuOiB0KFwiaW5pdGlhbC1zZXR1cC5jb25maWd1cmF0aW9uc1wiKSB9KSwgX2pzeChcInBcIiwgX19hc3NpZ24oeyBzdHlsZTogeyBjb2xvcjogJyM2OTdjZDgnLCBtYXJnaW5MZWZ0OiAnMTBweCcgfSB9LCB7IGNoaWxkcmVuOiB0KFwiYWRkaXRpb25hbC1zZXR0aW5ncy5jb21taW5nLXNvb25cIikgfSkpXSB9KSldIH0pXSB9KSk7XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgSW5pdGlhbFNldHVwUGFnZTtcclxuIl0sIm5hbWVzIjpbIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJleHBvcnRzIiwiX2NyZWF0ZVN2Z0ljb24iLCJfanN4UnVudGltZSIsIl9kZWZhdWx0IiwiZGVmYXVsdCIsImpzeCIsImQiLCJnZXREaWFsb2dDb250ZW50VGV4dFV0aWxpdHlDbGFzcyIsInNsb3QiLCJnZW5lcmF0ZVV0aWxpdHlDbGFzcyIsImdlbmVyYXRlVXRpbGl0eUNsYXNzZXMiLCJfZXhjbHVkZWQiLCJEaWFsb2dDb250ZW50VGV4dFJvb3QiLCJzdHlsZWQiLCJUeXBvZ3JhcGh5Iiwic2hvdWxkRm9yd2FyZFByb3AiLCJwcm9wIiwibmFtZSIsIm92ZXJyaWRlc1Jlc29sdmVyIiwicHJvcHMiLCJzdHlsZXMiLCJyb290IiwiaW5Qcm9wcyIsInJlZiIsInVzZVRoZW1lUHJvcHMiLCJjbGFzc05hbWUiLCJvd25lclN0YXRlIiwiY2xhc3NlcyIsImNvbXBvc2VkQ2xhc3NlcyIsImNvbXBvc2VDbGFzc2VzIiwidXNlVXRpbGl0eUNsYXNzZXMiLCJjb21wb25lbnQiLCJ2YXJpYW50IiwiY29sb3IiLCJfX2Fzc2lnbiIsIk9iamVjdCIsImFzc2lnbiIsInQiLCJzIiwiaSIsIm4iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJwIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYXBwbHkiLCJ0aGlzIiwiQWxlcnREaWFsb2ciLCJfYSIsIl9iIiwib3BlbiIsInNldE9wZW4iLCJkaWFsb2dUaXRsZSIsImRpYWxvZ0Rlc2NyaXB0aW9uIiwiY2hpbGRyZW4iLCJEaWFsb2ciLCJvbkNsb3NlIiwiZXZlbnQiLCJyZWFzb24iLCJDaGVja0NpcmNsZU91dGxpbmUiLCJEaWFsb2dUaXRsZSIsImlkIiwiRGlhbG9nQ29udGVudCIsIkFkZGl0aW9uYWxTZXR0aW5nc1BhZ2UiLCJGaWVsZE1hcHBpbmdQYWdlIiwiX3RoaXMiLCJ1c2VUcmFuc2xhdGlvbiIsInVzZVN0YXRlIiwiY3JtU2VsZWN0ZWQiLCJzZXRDUk1TZWxlY3RlZCIsInNlbGVjdGVkQ1JNIiwic2V0U2VsZWN0ZWRDUk0iLCJjbGllbnRfc2V0dXBfc3RhdHVzIiwidXNlciIsImRpc3BhdGNoIiwic2hvd0RpYWxvZyIsIl9jIiwicHJldmlvdXNDbGllbnRTZXR1cFN0YXRlIiwic2V0UHJldmlvdXNDbGllbnRTZXR1cFN0YXRlIiwidGltZU91dCIsInVzZUVmZmVjdCIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJ2Iiwib3AiLCJUeXBlRXJyb3IiLCJkb25lIiwidmFsdWUiLCJwb3AiLCJwdXNoIiwiZSIsInN0ZXAiLCJfX2dlbmVyYXRvciIsInNldERpYWxvZ1N0YXRlIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIlByb21pc2UiLCJyIiwic2V0VGltZW91dCIsInJlc2V0RGlhbG9nU3RhdGUiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJ0aGVuIiwidGltZXIiLCJOdW1iZXIiLCJjb25jYXQiLCJjbGVhclRpbWVvdXQiLCJ1c2VyQ1JNIiwiY3JtIiwiYXV0aGVudGljYXRpb25fY3JlZGVudGlhbHMiLCJjcm1fbmFtZSIsIkdyaWQiLCJjb250YWluZXIiLCJpdGVtIiwieHMiLCJzbSIsIm1kIiwieGwiLCJDUk1BdXRoZW50aWNhdGlvbiIsInJlc2V0Q1JNIiwiQ1JNU2VsZWN0aW9uIiwiU3VzcGVuc2UiLCJmYWxsYmFjayIsInNpemUiLCJhc3Npc3RpdmVUZXh0Iiwic3R5bGUiLCJtYXJnaW5MZWZ0Il0sInNvdXJjZVJvb3QiOiIifQ==